# Sway21 Dotfiles!!!!

bar {
    swaybar_command waybar
}

# Monitor Maintenance
output DP-3 {
    scale 1.0
    mode 2560x1440@144Hz
    pos 0 0
}

# Assign workspaces to the external monitor
workspace 1 output DP-3
workspace 2 output DP-3
workspace 3 output DP-3
workspace 4 output DP-3
workspace 5 output DP-3
workspace 6 output DP-3
workspace 7 output DP-3
workspace 8 output DP-3
workspace 9 output DP-3
workspace 10 output DP-3

# Special inputs

# Variables

# Applications
set $term kitty
set $files dolphin
set $menu --no-startup-id rofi -show drun

# Colorscheme
set $color1 #221738
set $color2 #8a77f7
set $color3 #d69b10
set $color4 #d2c7f7

client.focused               $color2 $color2 $color1 $color2 $color2
client.unfocused             $color3 $color1 $color2 $color1 $color1
client.focused_inactive      $color1 $color1 $color3 $color1 $color1
client.urgent                $color4 $color4 $color1 $color4 $color4

# Gaps and Borders
gaps inner 5
gaps outer 5
default_border pixel 2
default_floating_border pixel 2

# Blur, rounded corners, and shadows (For SwayFX only)
# blur enable
# blur_passes 5
# blur_radius 3

# corner_radius 14

# shadows enable
# shadow_offset 0 0
# shadow_color #55448b
# shadow_inactive_color #c933264f

# default_dim_inactive 0.4
for_window [app_id=".*"] opacity 0.9

# Keybinds

# Basics
bindsym Super+Return exec $term
bindsym Super+q kill
bindsym ctrl+alt+delete exec btop
bindsym Super+space exec $menu
bindsym Super+r reload
bindsym Super+shift+r exec ~/.config/sway/autorun-scripts/reload_waybar.sh
bindsym Super+alt+Up exec killall -SIGUSR1 waybar

bindsym Super+Left focus left
bindsym Super+Down focus down
bindsym Super+Up focus up
bindsym Super+Right focus right

bindsym Super+Shift+Left move left
bindsym Super+Shift+Down move down
bindsym Super+Shift+Up move up
bindsym Super+Shift+Right move right

bindsym Super+s layout stacking
bindsym Super+w layout tabbed
bindsym Super+e layout toggle split
bindsym Super+f fullscreen
bindsym Super+Shift+space floating toggle
bindsym Super+Alt+space focus mode_toggle
bindsym Super+a focus parent

# Lock Screen
bindsym Super+c exec swaylock

# Power Menu
bindsym Super+p exec --no-startup-id wlogout

# Workspace Movement
bindsym Super+1 workspace number 1
bindsym Super+2 workspace number 2
bindsym Super+3 workspace number 3
bindsym Super+4 workspace number 4
bindsym Super+5 workspace number 5
bindsym Super+6 workspace number 6
bindsym Super+7 workspace number 7
bindsym Super+8 workspace number 8
bindsym Super+9 workspace number 9
bindsym Super+0 workspace number 10

bindsym Super+Shift+1 move container to workspace number 1
bindsym Super+Shift+2 move container to workspace number 2
bindsym Super+Shift+3 move container to workspace number 3
bindsym Super+Shift+4 move container to workspace number 4
bindsym Super+Shift+5 move container to workspace number 5
bindsym Super+Shift+6 move container to workspace number 6
bindsym Super+Shift+7 move container to workspace number 7
bindsym Super+Shift+8 move container to workspace number 8
bindsym Super+Shift+9 move container to workspace number 9
bindsym Super+Shift+0 move container to workspace number 10

# Switch to prev/next workspace
bindsym Super+ctrl+Right workspace next
bindsym Super+ctrl+Left workspace prev

# Audio controls
bindsym F1 exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym F2 exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym F3 exec pactl set-sink-volume @DEFAULT_SINK@ +5%

# Brightness controls
bindsym F4 exec brightnessctl set 5%-
bindsym F5 exec brightnessctl set +5%

# Microphone mute/unmute
# bindsym F9 exec

# Screenshots
bindsym Shift+F12 exec flameshot

# App Bindings
bindsym Super+b exec zen-browser
bindsym Super+t exec $term
bindsym Super+alt+f exec $files

bindsym Super+Shift+Return move scratchpad
bindsym Super+minus scratchpad show

# Autostart

exec --no-startup-id waypaper --restore
exec --no-startup-id flameshot

exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec wl-clip-persist --clipboard regular --reconnect-tries 0 &
exec wl-paste --type text --watch cliphist store &
exec swaync -c ~/.config/swaync/config.json -s ~/.config/swaync/Arch21-style.css

exec ~/.config/sway/autorun-scripts/load_waybar.sh

# import variables into system-user enviroment
# based on the instructions in the sway wiki
# see also https://github.com/swaywm/sway/issues/5732
# and https://github.com/systemd/systemd/blob/dfc637d0ff756889e8e5b7cb4ec991eb06069aa1/xorg/50-systemd-user.sh

exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP

exec hash dbus-update-activation-environment 2>/dev/null && \
        dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP=sway

